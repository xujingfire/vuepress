---
title: 如何退出vim
date: 2022-02-18
tags:
 - vim
---

点击ESC进入“正常模式”，然后输入“:”，进入“命令模式”。此时屏幕的下方会出现一个冒号，你可以输入以下命令，并按“ENTER”执行：

:q ，退出（:quit的缩写）

:q!，退出且不保存（:quit!的缩写）

:wq，保存并退出

:wq!，保存并退出即使文件没有写入权限（强制保存退出）

:x，保存并退出（类似:wq，但是只有在有更改的情况下才保存）

:exit，保存并退出（和:x相同）

:qa，退出所有(:quitall的缩写)

:cq，退出且不保存（即便有错误）

你也可以直接在“正常模式”下输入“ZZ”来保存并退出Vim（和:x相同），或者“ZQ”不保存并退出（和:q!相同）注意此处ZZ大写和小写是完全不同的。

Vim还有一个帮助菜单，可以通过“:help”调出来，基本能够解决你的绝大多数问题。

# Vim常用命令

---

**1.移动光标**

- j：向下

- 20j： 向下移动 20 行

- k：向上

- h：向左

- l：向右

- 0：到行首

- ^：到行首第一个字符，如果前面有空格的话

- $：到行尾

- gg：快速到文件头

- G：快速到文件尾

- 50G：跳转到第 50 行

  *请不要在插入模式进行光标移动，效率很低下。*

**2.复制**

- yy：复制一行
- 8yy：向下复制8行
- yw：复制光标开始的一个单词
- y$：复制光标到行尾
- yfA：复制光标到第一个大写A中间的内容
- y2fA：复制光标到第二个大写A中间的内容

**3.剪切**

- x：向后剪切一个一个字符，如果是在行尾，则为向前剪切
- 4x：剪切4个
- xp：非行尾交换两个字符，如从bs变成sb

**4.删除**

- dd：删除一行
- 100dd：删除100行
- dw：删除一个单词
- df"：删除到出现的第一个双引号
- d^：删除至行首

> *删除的内容会放到剪贴板，按p即可粘贴到其他地方。*

**5.粘贴**

- p：粘贴复制或剪切的内容
- 5p：将复制或剪切的内容粘贴5次

**6.替换和撤销**

- r+<待替换字母>：将游标所在字母替换为指定字母
- R：连续替换，直到按下Esc
- cc：替换整行，即删除游标所在行，并进入插入模式
- cw：替换一个单词，即删除一个单词，并进入插入模式
- u{n}：撤销一次或n次操作
- U(大写)：撤销当前行的所有修改
- Ctrl+r：redo，即撤销undo的操作

**7.退出编辑器**

- wq：保存当前文件并退出
- wqa：保存所有文件并退出
- q!： 不保存，强制退出
- qa!： 有多个文件被打开，同时退出

**以下命令请在命令模式下执行**

在普通模式下，输入:即可进入。

**调整文本**

- %s/$/sth/ ：在行尾追加sth
- %s/^M//g ：替换掉dos换行符，\^M使用ctrl+v + Enter即可输入
- *:g/^\s$/d\* ：删除空行以及只有空格的行*
- %s/#.*//g ：删除#之后的字符

> 没错，这里使用的是正则。

- ce：使本行文本内容居中
- ri：使本行文本内容靠右
- le：使本行文本内容靠左

**查找字符串**

在普通模式下，按下/直接进入查找，输入相应的字符串按确定即可

- n：查找下一个匹配
- N：查找上一个匹配
- 2n：查找下面第二个匹配

